**题目 01- 请你说一说什么是线程和进程？**

进程：内存中运行的一个应用程序，

线程：进程中的一个执行单元

关系：一个进程会产生很多线程

区别：每个进程都有独立内存空间；线程之间的堆空间和方法区共享，线程栈空间和程序计数器独立。

线程的上下文切换，是指CPU采用时间片算法将CPU时间片轮流分配给多个线程时，CPU在程序计数器记录各个线程的执行位置，然后各个线程切换时，存储上个线程的信息，读取之前存储的下个线程的信息。

并发是指同一时间段，多个任务都在执行，在具体某个时间点，不一定是同时执行；并行是指某个时间点，多个任务同时执行。

**题目 02- 使用了多线程会带来什么问题呢？**

线程安全问题：运行同一行代码，程序运行结果与单线程情况下执行结果不一定一致，这时就是线程不安全的。

比较典型的是多个线程共享堆空间，共享变量；如果多个线程同时操作这一变量，那么可能在读取时其他的线程正在写入，导致读取的数据不是最新的。

原子性：一个系列指令代码，要么全执行，要么全部不执行，执行过程不能被打断（无上下文切换）。

有序性：程序代码按照先后顺序执行，不受编译器、处理器指令重排影响。

可见性：多个线程访问同一个变量时，一个线程修改了共享变量的值，其他线程能够立即看到。

JMM规范（JSR133）定义了共享内存系统中多线程应用读写操作行为的规范，解决了CPU多级缓存、处理器优化、指令重排等导致的内存访问问题。

**题目 03- 什么是死锁？如何排查死锁?**

死锁（英语：deadlock），当多个线程，都在等待对方停止执行，以取得系统资源，但是没有一方提前退出时，就产生了死锁，程序无法继续向下执行。

排查方法1：在程序运行过程中，可以使用jstack获取栈信息，进行排查。

排查方法2：在程序运行过程中，可以使用arthas的`thread -b`命令，找出当前阻塞其他线程的线程。